{"version":3,"sources":["utils/constants.ts","utils/searchGame.ts","utils/socket.ts","utils/showToast.ts","Components/Move/index.tsx","pages/Game/index.tsx","pages/Home/index.tsx","pages/Join/index.tsx","index.tsx"],"names":["API_URL","searchGame","gameId","a","fetch","method","headers","body","JSON","stringify","game_id","res","json","data","result","gameExists","online","socket","io","withCredentials","ToastConfig","position","hideProgressBar","draggable","autoClose","pauseOnHover","closeOnClick","transition","Slide","bodyClassName","errorToast","text","toast","type","showToast","Move","move","className","title","Board","mode","useState","xScore","setXScore","yScore","setYScore","yourMove","setYourMove","xScoreRef","useRef","yScoreRef","opponentMove","setOpponentMove","yourMoveRef","opponentMoveRef","fetchedOpponentMove","setFetchedOpponentMove","winner","setWinner","gameStatus","setGameStatus","enableRestart","setEnableRestart","playingAs","history","useHistory","onRestart","useEffect","current","getGame","on","onMove","off","xMove","yMove","gameResult","calculateWinner","gameTied","replace","pathname","player","winnerPlayer","map","onClick","emit","makeMove","i","length","includes","Game","setOnline","location","useLocation","connected","state","checkIfGameExists","toString","undefined","style","height","window","innerHeight","to","target","href","origin","rel","Home","setGameId","setGameExists","gameIdToJoin","setGameIdToJoin","bothJoined","setBothJoined","joinGameInput","setJoinGameInput","creatingGame","setCreatingGame","joiningGame","setJoiningGame","createGame","console","error","joinGame","push","link","navigator","clipboard","writeText","copyLink","share","url","err","shareLink","name","id","placeholder","onChange","e","value","Date","getFullYear","Join","params","useParams","Main","exact","path","component","limit","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.685a7fd5.chunk.js","sourcesContent":["export const API_URL =\n\tprocess.env.NODE_ENV === \"development\"\n\t\t? process.env.REACT_APP_API_URL\n\t\t: \"/\";\n","import { API_URL } from \"./constants\";\nimport { GameExistsResponse, SearchResponse } from \"./types\";\n\nexport const searchGame = async (\n\tgameId: string\n): Promise<GameExistsResponse> => {\n\tconst res = await fetch(`${API_URL}api/search/game`, {\n\t\tmethod: \"POST\",\n\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\tbody: JSON.stringify({ game_id: gameId }),\n\t});\n\tconst data: SearchResponse = await res.json();\n\n\tif (data.result === \"fail\")\n\t\treturn {\n\t\t\tgameExists: false,\n\t\t\tonline: 0,\n\t\t};\n\tif (data.result === \"success\")\n\t\treturn {\n\t\t\tgameExists: true,\n\t\t\tonline: data.online,\n\t\t};\n\treturn {\n\t\tgameExists: false,\n\t\tonline: 0,\n\t};\n};\n","import { io } from \"socket.io-client\";\n\nconst socket_url =\n\tprocess.env.NODE_ENV === \"development\"\n\t\t? process.env.REACT_APP_API_URL || \"\"\n\t\t: \"/\";\n\nconst socket = io(`${socket_url}game`, {\n\twithCredentials: true,\n});\n\nexport default socket;\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport { toast, Slide, ToastOptions } from \"react-toastify\";\n\nconst ToastConfig: ToastOptions = {\n\tposition: \"bottom-center\",\n\thideProgressBar: true,\n\tdraggable: false,\n\tautoClose: 2000,\n\tpauseOnHover: false,\n\tcloseOnClick: true,\n\ttransition: Slide,\n\tbodyClassName: \"flex items-center flex-row  text-black rounded-lg\",\n};\n\nexport const errorToast = (text = \"An error occured\") =>\n\ttoast(text, {\n\t\t...ToastConfig,\n\t\ttype: \"error\",\n\t\tbodyClassName: \"flex items-center flex-row  text-white rounded-lg\",\n\t});\n\nexport const showToast = (text: string) =>\n\ttoast(text, {\n\t\t...ToastConfig,\n\t\ttransition: Slide,\n\t});\n","import React from \"react\";\nimport { Moves } from \"../../utils/types\";\n\ntype MoveProps = {\n\tmove: Moves;\n};\nconst Move: React.FC<MoveProps> = ({ move }) => (\n\t<button className=\"focus:outline-none text-5xl md:text-8xl\" title={move}>\n\t\t{move === \"Stone\" && \"✊️\"}\n\t\t{move === \"Paper\" && \"🖐️\"}\n\t\t{move === \"Scissor\" && \"✌️\"}\n\t\t{move === \"Thinking\" && \"🤔️\"}\n\t\t{move === \"Unknown\" && \"❓️\"}\n\t</button>\n);\n\nexport default Move;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\nimport { API_URL } from \"../../utils/constants\";\nimport { searchGame } from \"../../utils/searchGame\";\nimport socket from \"../../utils/socket\";\nimport { toast, Slide } from \"react-toastify\";\nimport { errorToast, showToast } from \"../../utils/showToast\";\nimport { Moves } from \"../../utils/types\";\nimport Move from \"../../Components/Move\";\n\ntype BoardProps = {\n\tmode: \"CREATE\" | \"JOIN\";\n\tgameId: number;\n};\n\ntype FetchGameResponse = {\n\tresult: \"fail\" | \"success\";\n\txMove: Moves;\n\tyMove: Moves;\n\txScore: number;\n\tyScore: number;\n};\n\ntype onMoveResponse = {\n\tmove: Moves;\n\tplayer: \"X\" | \"Y\";\n};\nconst Board: React.FC<BoardProps> = ({ mode, gameId }) => {\n\tconst [xScore, setXScore] = useState(0);\n\tconst [yScore, setYScore] = useState(0);\n\tconst [yourMove, setYourMove] = useState<Moves>(\"Thinking\");\n\n\tconst xScoreRef = useRef(xScore);\n\tconst yScoreRef = useRef(yScore);\n\n\tconst [opponentMove, setOpponentMove] = useState<Moves>(\"Thinking\");\n\n\tconst yourMoveRef = useRef(yourMove);\n\tconst opponentMoveRef = useRef(opponentMove);\n\n\tconst [fetchedOpponentMove, setFetchedOpponentMove] =\n\t\tuseState<Moves>(\"Thinking\");\n\n\tconst [winner, setWinner] = useState<Moves | null>(null);\n\tconst [gameStatus, setGameStatus] = useState<string | null>(null);\n\tconst [enableRestart, setEnableRestart] = useState(false);\n\n\tconst playingAs = mode === \"CREATE\" ? \"X\" : \"Y\";\n\tconst history = useHistory();\n\n\tconst onRestart = () => {\n\t\tsetYourMove(\"Thinking\");\n\t\tsetFetchedOpponentMove(\"Thinking\");\n\t\tsetEnableRestart(false);\n\t\tsetOpponentMove(\"Thinking\");\n\t\tsetGameStatus(null);\n\t\tsetWinner(null);\n\t\tshowToast(\"Game Restarted !\");\n\t};\n\n\tuseEffect(() => {\n\t\tyourMoveRef.current = yourMove;\n\t\topponentMoveRef.current = opponentMove;\n\t\txScoreRef.current = xScore;\n\t\tyScoreRef.current = yScore;\n\t});\n\n\tuseEffect(() => {\n\t\tgetGame();\n\t\tsocket.on(\"moved\", onMove);\n\t\tsocket.on(\"restarted\", onRestart);\n\t\treturn () => {\n\t\t\tsocket.off(\"moved\", onMove);\n\t\t\tsocket.off(\"restarted\", onRestart);\n\t\t};\n\t}, []);\n\n\tconst getGame = async () => {\n\t\tconst res = await fetch(`${API_URL}api/fetch/game`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\tbody: JSON.stringify({\n\t\t\t\tgame_id: gameId,\n\t\t\t}),\n\t\t});\n\t\tconst data: FetchGameResponse = await res.json();\n\n\t\tif (data.result === \"success\") {\n\t\t\tif (playingAs === \"X\") {\n\t\t\t\tsetYourMove(data.xMove);\n\t\t\t\tif (data.yMove !== \"Thinking\") {\n\t\t\t\t\tif (data.xMove !== \"Thinking\") {\n\t\t\t\t\t\tsetOpponentMove(data.yMove);\n\t\t\t\t\t\tsetEnableRestart(true);\n\t\t\t\t\t\tconst gameResult = calculateWinner(\n\t\t\t\t\t\t\tdata.xMove,\n\t\t\t\t\t\t\tdata.yMove\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (gameResult?.winner) {\n\t\t\t\t\t\t\tsetGameStatus(\"Winner: \" + gameResult.winner);\n\t\t\t\t\t\t\tsetWinner(gameResult.winner);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (gameResult?.gameTied) setGameStatus(\"Game tied\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetFetchedOpponentMove(data.yMove);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetYourMove(data.yMove);\n\t\t\t\tif (data.xMove !== \"Thinking\") {\n\t\t\t\t\tif (data.yMove !== \"Thinking\") {\n\t\t\t\t\t\tsetOpponentMove(data.xMove);\n\t\t\t\t\t\tsetEnableRestart(true);\n\t\t\t\t\t\tconst gameResult = calculateWinner(\n\t\t\t\t\t\t\tdata.xMove,\n\t\t\t\t\t\t\tdata.yMove\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (gameResult?.winner) {\n\t\t\t\t\t\t\tsetGameStatus(\"Winner: \" + gameResult.winner);\n\t\t\t\t\t\t\tsetWinner(gameResult.winner);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (gameResult?.gameTied) setGameStatus(\"Game tied\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetFetchedOpponentMove(data.xMove);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetXScore(data.xScore);\n\t\t\tsetYScore(data.yScore);\n\t\t} else if (data.result === \"fail\") {\n\t\t\terrorToast(\"Game doesn't exist\");\n\t\t\thistory.replace({ pathname: \"/\" });\n\t\t}\n\t};\n\n\tconst onMove = (data: onMoveResponse) => {\n\t\tif (yourMoveRef.current !== \"Thinking\") {\n\t\t\tif (data.player !== playingAs) {\n\t\t\t\tsetOpponentMove(data.move);\n\t\t\t\tconst gameResult = calculateWinner(\n\t\t\t\t\tyourMoveRef.current,\n\t\t\t\t\tdata.move\n\t\t\t\t);\n\t\t\t\tif (gameResult) {\n\t\t\t\t\tsetEnableRestart(true);\n\t\t\t\t\tif (gameResult.gameTied) {\n\t\t\t\t\t\tsetGameStatus(\"Game Tied\");\n\t\t\t\t\t\tshowToast(\"Game Tied\");\n\t\t\t\t\t}\n\n\t\t\t\t\tif (gameResult.winner) {\n\t\t\t\t\t\tlet winnerPlayer: \"X\" | \"Y\";\n\t\t\t\t\t\tsetGameStatus(\"Winner: \" + gameResult.winner);\n\t\t\t\t\t\tsetWinner(gameResult.winner);\n\n\t\t\t\t\t\tif (gameResult.winner === yourMoveRef.current) {\n\t\t\t\t\t\t\twinnerPlayer = playingAs;\n\t\t\t\t\t\t\tshowToast(\"You won 🎉️\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twinnerPlayer = playingAs === \"X\" ? \"Y\" : \"X\";\n\t\t\t\t\t\t\tshowToast(\"You lost\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (winnerPlayer === \"X\") {\n\t\t\t\t\t\t\tsetXScore(xScoreRef.current + 1);\n\t\t\t\t\t\t} else if (winnerPlayer === \"Y\") {\n\t\t\t\t\t\t\tsetYScore(yScoreRef.current + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (gameResult?.gameTied) setGameStatus(\"Game tied\");\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (yourMoveRef.current === \"Thinking\") {\n\t\t\tif (data.player !== playingAs) {\n\t\t\t\tsetOpponentMove(\"Unknown\");\n\t\t\t\tsetFetchedOpponentMove(data.move);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst makeMove = (move: Moves) => {\n\t\tif (yourMove === \"Thinking\") {\n\t\t\tsetYourMove(move);\n\n\t\t\tif (fetchedOpponentMove !== \"Thinking\") {\n\t\t\t\tsetOpponentMove(fetchedOpponentMove);\n\t\t\t\tconst gameResult = calculateWinner(move, fetchedOpponentMove);\n\t\t\t\tsetOpponentMove(fetchedOpponentMove);\n\t\t\t\tif (gameResult) {\n\t\t\t\t\tif (gameResult.gameTied) {\n\t\t\t\t\t\tsetGameStatus(\"Game Tied\");\n\t\t\t\t\t\tshowToast(\"Game Tied\");\n\t\t\t\t\t}\n\t\t\t\t\tsetEnableRestart(true);\n\t\t\t\t\tif (gameResult.winner) {\n\t\t\t\t\t\tlet winnerPlayer: \"X\" | \"Y\";\n\t\t\t\t\t\tsetGameStatus(\"Winner: \" + gameResult.winner);\n\t\t\t\t\t\tsetWinner(gameResult.winner);\n\t\t\t\t\t\tif (gameResult.winner === move) {\n\t\t\t\t\t\t\twinnerPlayer = playingAs;\n\t\t\t\t\t\t\tshowToast(\"You won 🎉️\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twinnerPlayer = playingAs === \"X\" ? \"Y\" : \"X\";\n\t\t\t\t\t\t\tshowToast(\"You lost\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (winnerPlayer === \"X\") {\n\t\t\t\t\t\t\tsetXScore(xScoreRef.current + 1);\n\t\t\t\t\t\t} else if (winnerPlayer === \"Y\") {\n\t\t\t\t\t\t\tsetYScore(yScoreRef.current + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsocket.emit(\"winner\", {\n\t\t\t\t\t\t\tgame_id: gameId,\n\t\t\t\t\t\t\twinner: winnerPlayer,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsocket.emit(\"move\", {\n\t\t\t\tmove,\n\t\t\t\tgame_id: gameId,\n\t\t\t\tplayer: playingAs,\n\t\t\t});\n\t\t}\n\t};\n\n\tconst restartGame = () => socket.emit(\"restartGame\", { game_id: gameId });\n\n\treturn (\n\t\t<div className=\"flex flex-col w-screen  items-center\">\n\t\t\t<div className=\"text-center flex flex-col items-center \">\n\t\t\t\t<h1>Score</h1>\n\t\t\t\t<p className=\"text-sm text-gray-800 md:text-base\">\n\t\t\t\t\tYou: {mode === \"CREATE\" ? xScore : yScore} | Opponent:{\" \"}\n\t\t\t\t\t{mode === \"CREATE\" ? yScore : xScore}\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"flex justify-evenly items-center flex-row mt-12 mb-12 w-full\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={`\n\t\t\t\t\tflex items-center justify-center rounded-full w-24 h-24 md:w-48 md:h-48 \n\t\t\t\t\t${yourMove === winner ? \"bg-green-50\" : \"bg-transparent\"}`}\n\t\t\t\t>\n\t\t\t\t\t<Move move={yourMove as Moves} />\n\t\t\t\t</div>\n\t\t\t\t<span className=\"text-sm md:text-xl text-gray-500\">vs</span>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`\n\t\t\t\t\tflex items-center justify-center rounded-full w-24 h-24 md:w-48 md:h-48 \n\t\t\t\t\t${opponentMove === winner ? \"bg-green-50\" : \"bg-transparent\"}`}\n\t\t\t\t>\n\t\t\t\t\t<Move move={opponentMove as Moves} />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"flex justify-evenly flex-row  w-full\">\n\t\t\t\t{[\"Stone\", \"Paper\", \"Scissor\"].map((move) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={move}\n\t\t\t\t\t\tclassName={`transition ${\n\t\t\t\t\t\t\tyourMove === \"Thinking\" ? \"hover:bg-gray-50\" : \"\"\n\t\t\t\t\t\t} flex items-center justify-center rounded-full w-20 h-20 md:w-40 md:h-40 ${\n\t\t\t\t\t\t\tyourMove === move ? \"bg-gray-100\" : \"bg-transparent\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\t`}\n\t\t\t\t\t\tonClick={() => makeMove(move as Moves)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Move move={move as Moves} />\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\n\t\t\t<p className=\"mt-16 text-gray-500 text-sm md:text-base\">\n\t\t\t\t{gameStatus}\n\t\t\t</p>\n\n\t\t\t{enableRestart && (\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"mt-8 mb-4 px-4 py-3 bg-white border border-black rounded hover:text-white hover:bg-black transition\"\n\t\t\t\t\tonClick={restartGame}\n\t\t\t\t>\n\t\t\t\t\tRestart\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nfunction calculateWinner(\n\txMove: string,\n\tyMove: string\n): {\n\twinner: Moves | null;\n\tgameTied: boolean;\n} | null {\n\tconst winner = [\n\t\t[[\"Stone\", \"Paper\"], \"Paper\"],\n\t\t[[\"Paper\", \"Scissor\"], \"Scissor\"],\n\t\t[[\"Stone\", \"Scissor\"], \"Stone\"],\n\t];\n\tif (xMove === yMove) {\n\t\treturn {\n\t\t\twinner: null,\n\t\t\tgameTied: true,\n\t\t};\n\t} else {\n\t\tfor (let i = 0; i < winner.length; i++) {\n\t\t\tif (winner[i][0].includes(xMove) && winner[i][0].includes(yMove)) {\n\t\t\t\treturn {\n\t\t\t\t\twinner: winner[i][1] as Moves,\n\t\t\t\t\tgameTied: false,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n}\n\ntype LocationStateType = {\n\tgameId: number;\n\tmode: \"CREATE\" | \"JOIN\";\n};\n\ntype SocketConnectedData = {\n\tgame_id: string;\n\tonline: string[];\n};\n\nconst Game: React.FC<any> = () => {\n\tconst [online, setOnline] = useState(0);\n\n\tconst location = useLocation();\n\tconst history = useHistory();\n\n\tconst connected = (data: SocketConnectedData) =>\n\t\tsetOnline(data.online.length);\n\n\tconst gameId = (location.state as LocationStateType)?.gameId;\n\tconst mode = (location.state as LocationStateType)?.mode || \"JOIN\";\n\n\tconst checkIfGameExists = async () => {\n\t\tconst gameExists = await searchGame(gameId.toString());\n\t\tif (!gameExists) {\n\t\t\terrorToast(\"Game doesn't exist\");\n\t\t\thistory.replace({\n\t\t\t\tpathname: \"/\",\n\t\t\t});\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (location.state !== undefined && gameId) checkIfGameExists();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (location.state !== undefined && gameId)\n\t\t\tsocket.emit(\"join\", {\n\t\t\t\tgame_id: gameId,\n\t\t\t\tplayer: mode === \"CREATE\" ? \"X\" : \"O\",\n\t\t\t});\n\n\t\tsocket.on(\"connected\", connected);\n\t\tsocket.on(\"disconnected\", connected);\n\t\treturn () => {\n\t\t\tsocket.emit(\"leave\", {\n\t\t\t\tgame_id: gameId,\n\t\t\t\tplayer: mode === \"CREATE\" ? \"X\" : \"O\",\n\t\t\t});\n\t\t\tsocket.off(\"connected\", connected);\n\t\t\tsocket.off(\"disconnected\", connected);\n\t\t};\n\t}, []);\n\n\tif (!location.state || !gameId)\n\t\thistory.replace({\n\t\t\tpathname: \"/\",\n\t\t});\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"flex flex-col items-center px-4\"\n\t\t\tstyle={{\n\t\t\t\theight: window.innerHeight,\n\t\t\t}}\n\t\t>\n\t\t\t<Link to=\"/\" className=\"underline text-gray-500\">\n\t\t\t\tGo Home\n\t\t\t</Link>\n\n\t\t\t<p className=\"self-end md:text-lg\">Joined: {online}</p>\n\n\t\t\t<div className=\"flex-grow-1 h-full justify-center flex flex-col\">\n\t\t\t\t<Board gameId={gameId} mode={mode} />\n\t\t\t</div>\n\n\t\t\t<a\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\thref={window.location.origin + \"/join/\" + gameId}\n\t\t\t\tclassName=\"my-4 text-gray-500 text-sm md:text-base\"\n\t\t\t\trel=\"noreferrer\"\n\t\t\t>\n\t\t\t\tGame: {gameId}\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n\nexport default Game;\n","import React, { useEffect, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { toast, Slide } from \"react-toastify\";\n\nimport { API_URL } from \"../../utils/constants\";\nimport { errorToast, showToast } from \"../../utils/showToast\";\nimport { searchGame } from \"../../utils/searchGame\";\n\nconst Home: React.FC<any> = () => {\n\tconst [gameId, setGameId] = useState(null);\n\tconst [gameExists, setGameExists] = useState(true);\n\tconst [gameIdToJoin, setGameIdToJoin] = useState<string | null>(null);\n\tconst [bothJoined, setBothJoined] = useState(false);\n\tconst [joinGameInput, setJoinGameInput] = useState(false);\n\tconst [creatingGame, setCreatingGame] = useState(false);\n\n\tconst [joiningGame, setJoiningGame] = useState(false);\n\n\tconst history = useHistory();\n\n\tconst createGame = async () => {\n\t\tsetJoinGameInput(false);\n\t\tsetCreatingGame(true);\n\t\ttry {\n\t\t\tconst res = await fetch(`${API_URL}api/create/game`);\n\t\t\tconst data = await res.json();\n\t\t\tif (data.result === \"success\") {\n\t\t\t\tsetGameId(data.game_id);\n\t\t\t\tsetCreatingGame(false);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t\tsetCreatingGame(false);\n\t\t\terrorToast();\n\t\t}\n\t};\n\n\tconst toggleJoinGameInput = () => setJoinGameInput(!joinGameInput);\n\n\tconst startGame = () =>\n\t\thistory.push({\n\t\t\tpathname: \"/game\",\n\t\t\tstate: {\n\t\t\t\tgameId,\n\t\t\t\tmode: \"CREATE\",\n\t\t\t},\n\t\t});\n\n\tconst joinGame = async () => {\n\t\tif (!gameIdToJoin) return null;\n\t\ttry {\n\t\t\tsetJoiningGame(true);\n\n\t\t\tconst gameExists = await searchGame(gameIdToJoin);\n\n\t\t\tif (gameExists) {\n\t\t\t\tsetGameExists(true);\n\t\t\t\tsetJoiningGame(false);\n\t\t\t\tif (gameExists.online !== 2) {\n\t\t\t\t\thistory.push({\n\t\t\t\t\t\tpathname: \"/game\",\n\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\tgameId: gameIdToJoin,\n\t\t\t\t\t\t\tmode: \"JOIN\",\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tsetBothJoined(true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetBothJoined(false);\n\t\t\t\tsetGameExists(false);\n\t\t\t\tsetJoiningGame(false);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t\terrorToast();\n\t\t\tsetJoiningGame(false);\n\t\t}\n\t};\n\n\tconst copyLink = (link: string) => {\n\t\tnavigator.clipboard?.writeText(link);\n\t\tshowToast(\"Copied\");\n\t};\n\n\tconst shareLink = (link: string) => {\n\t\tif (navigator.share) {\n\t\t\ttry {\n\t\t\t\tnavigator.share({\n\t\t\t\t\ttitle: \"Stone Paper Scissor Online\",\n\t\t\t\t\ttext: \"You're invited to play Stone Paper Scissor Online\",\n\t\t\t\t\turl: link,\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.error(\"Sharing not supported\");\n\t\t}\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"flex flex-col w-screen items-center justify-center px-4\"\n\t\t\tstyle={{\n\t\t\t\theight: window.innerHeight,\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"flex-grow-1 flex flex-col space-y-4 h-full items-center justify-center\">\n\t\t\t\t<span className=\"flex\">\n\t\t\t\t\t<p className=\"text-xl md:text-4xl font-bold mt-2\">\n\t\t\t\t\t\tStone-Paper-Scissor\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"font-light text-sm md:text-xl\">Online</p>\n\t\t\t\t</span>\n\t\t\t\t<h3 className=\"text-xl text-center pt-4\">Get Started</h3>\n\t\t\t\t<div className=\"flex justify-center flex-wrap\">\n\t\t\t\t\t<div className=\"px-0 py-2 md:px-3 md:py-0\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"bg-black text-white px-4 py-3 hover:bg-white hover:text-black border border-black transition\"\n\t\t\t\t\t\t\tonClick={createGame}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{creatingGame ? \"Creating...\" : \"Create a new game\"}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"px-0 py-2 md:px-3 md:py-0\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={toggleJoinGameInput}\n\t\t\t\t\t\t\tclassName=\"border border-black bg-transparent text-black hover:bg-black hover:text-white px-4 py-3 transition\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{joiningGame ? \"Joining...\" : \"Join a game\"}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{gameId && (\n\t\t\t\t\t<div className=\"flex items-center flex-col text-center py-4 px-4\">\n\t\t\t\t\t\t<h4 className=\"text-lg font-semibold\">\n\t\t\t\t\t\t\tGame Created.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tGame ID : {gameId}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<p className=\"text-sm md:text-base\">\n\t\t\t\t\t\t\tAsk the other player to enter this ID while Joining\n\t\t\t\t\t\t\tthe game. Or use the link below (Tap to copy) :\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tcopyLink(window.location + \"join/\" + gameId)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName=\"my-4 text-gray-700\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{window.location + \"join/\" + gameId}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{navigator.share !== undefined && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"text-lg font-medium \"\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\tshareLink(\n\t\t\t\t\t\t\t\t\t\twindow.location + \"join/\" + gameId\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tShare\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"bg-black text-white transition hover:bg-white hover:text-black  w-full md:w-64 py-3 my-4 border border-black\"\n\t\t\t\t\t\t\tonClick={startGame}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tStart Game\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{joinGameInput && (\n\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t<div className=\"flex flex-row space-x-4 justify-center\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"gameID\"\n\t\t\t\t\t\t\t\tid=\"gameID\"\n\t\t\t\t\t\t\t\tclassName=\"bg-gray-100 px-4 py-3 rounded-md w-48\"\n\t\t\t\t\t\t\t\tplaceholder=\"Game ID\"\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetGameIdToJoin(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"text-white bg-black py-3 px-6\"\n\t\t\t\t\t\t\t\tonClick={joinGame}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tJoin\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{bothJoined && (\n\t\t\t\t\t\t\t\t<h3 className=\"my-4 text-red-700\">\n\t\t\t\t\t\t\t\t\tBoth players have already joined.\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{!gameExists && (\n\t\t\t\t\t\t\t\t<h3 className=\"my-4 text-red-700\">\n\t\t\t\t\t\t\t\t\tGame doesn&apos;t exist. Create one to start\n\t\t\t\t\t\t\t\t\tplaying.\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\" mb-4 text-center flex flex-col text-sm md:text-base\">\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/NiketanG/stone-paper-scissor-online\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\tclassName=\"underline text-gray-600\"\n\t\t\t\t>\n\t\t\t\t\tLearn More\n\t\t\t\t</a>\n\t\t\t\t<p>\n\t\t\t\t\tDesigned and Developed by{\" \"}\n\t\t\t\t\t<a href=\"http://bit.ly/nikketan\">Niketan Gulekar</a> &copy;\n\t\t\t\t\t{new Date().getFullYear()}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Home;\n","import React, { useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport { API_URL } from \"../../utils/constants\";\n\nimport { errorToast } from \"../../utils/showToast\";\ntype Params = {\n\tgameId: string;\n};\n\nconst Join: React.FC<any> = () => {\n\tconst params = useParams<Params>();\n\tconst history = useHistory();\n\n\tconst searchGame = async () => {\n\t\tconst res = await fetch(`${API_URL}api/search/game`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\tbody: JSON.stringify({ game_id: params.gameId }),\n\t\t});\n\n\t\tconst data = await res.json();\n\t\tif (data.result === \"fail\") {\n\t\t\terrorToast(\"Game does'nt exist\");\n\t\t\thistory.replace({\n\t\t\t\tpathname: \"/\",\n\t\t\t});\n\t\t}\n\n\t\tif (data.result === \"success\")\n\t\t\thistory.replace({\n\t\t\t\tpathname: \"/game\",\n\t\t\t\tstate: {\n\t\t\t\t\tgameId: params.gameId,\n\t\t\t\t\tmode: \"JOIN\",\n\t\t\t\t},\n\t\t\t});\n\t};\n\tuseEffect(() => {\n\t\tsearchGame();\n\t}, []);\n\n\treturn (\n\t\t<div className=\"flex flex-col items-center justify-center h-screen \">\n\t\t\t<p className=\"text-2xl md:text-4xl my-2\">Joining Game</p>\n\t\t\t<p className=\"my-8\">Game ID: {params.gameId}</p>\n\t\t</div>\n\t);\n};\n\nexport default Join;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Game from \"./pages/Game\";\nimport Home from \"./pages/Home\";\nimport Join from \"./pages/Join\";\nimport \"./styles/index.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst Main = () => (\n\t<Router>\n\t\t<Switch>\n\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t<Route path=\"/game\" component={Game} />\n\t\t\t<Route path=\"/join/:gameId\" component={Join} />\n\t\t</Switch>\n\t\t<ToastContainer limit={3} />\n\t</Router>\n);\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Main />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}